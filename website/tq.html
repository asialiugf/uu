<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
</head>

<body>

  <p>ping test!!!</p>
  <script type="text/javascript">
    // -------------------------------websocket

    // new Websocket
    var s = new WebSocket('ws://47.93.37.54:80/api/push/ws');
    var tq = new WebSocket('ws://127.0.0.1:7777');

    // register my topic
    s.onopen = function()
    {
      this.send('{"action":"subs","stamp":"x","data":["TA703","TA705"]}');
      //this.send('{"action":"subs","stamp":"x","data":["TA701"]}');
    }

    s.onmessage = function(v)
    {
      console.log("haha")
      console.log(v.data)
    }

    tq.onmessage = function(v) {
	  s.send(v.data)
      console.log("data")
    }
    tq.send( '{"aid":"subscribe_quote","ins_list": "a1601,a1603,a1605,a1607,a1609,a1611,a1701,a1703,a1705,ag1601,ag1602,ag1603,ag1604,ag1605,ag1606,ag1607,ag1608,ag1609,ag1610,ag1611,ag1612,al1601,al1602,al1603,al1604,al1605,al1606,al1607,al1608,al1609,al1610,al1611,al1612,au1601,au1602,au1603,au1604,au1606,au1608,au1610,au1612,b1601,b1603,b1605,b1607,b1609,b1611,bb1601,bb1602,bb1603,bb1604,bb1605,bb1606,bb1607,bb1608,bb1609,bb1610,bb1611,bb1612,bu1601,bu1602,bu1603,bu1604,bu1605,bu1606,bu1609,bu1612,bu1703,bu1706,bu1709,bu1712,c1601,c1603,c1605,c1607,c1609,c1611,CF601,CF603,CF605,CF607,CF609,CF611,cs1601,cs1603,cs1605,cs1607,cs1609,cs1611,cu1601,cu1602,cu1603,cu1604,cu1605,cu1606,cu1607,cu1608,cu1609,cu1610,cu1611,cu1612,fb1601,fb1602,fb1603,fb1604,fb1605,fb1606,fb1607,fb1608,fb1609,fb1610,fb1611,fb1612,FG601,FG602,FG603,FG604,FG605,FG606,FG607,FG608,FG609,FG610,FG611,FG612,fu1602,fu1603,fu1604,fu1605,fu1606,fu1607,fu1608,fu1609,fu1610,fu1611,fu1612,fu1701,hc1601,hc1602,hc1603,hc1604,hc1605,hc1606,hc1607,hc1608,hc1609,hc1610,hc1611,hc1612,i1601,i1602,i1603,i1604,i1605,i1606,i1607,i1608,i1609,i1610,i1611,i1612,IC1601,IC1602,IC1603,IC1606,IF1601,IF1602,IF1603,IF1606,IH1601,IH1602,IH1603,IH1606,j1601,j1602,j1603,j1604,j1605,j1606,j1607,j1608,j1609,j1610,j1611,j1612,jd1601,jd1602,jd1603,jd1604,jd1605,jd1606,jd1607,jd1608,jd1609,jd1610,jd1611,jd1612,jm1601,jm1602,jm1603,jm1604,jm1605,jm1606,jm1607,jm1608,jm1609,jm1610,jm1611,jm1612,JR601,JR603,JR605,JR607,JR609,JR611,l1601,l1602,l1603,l1604,l1605,l1606,l1607,l1608,l1609,l1610,l1611,l1612,LR601,LR603,LR605,LR607,LR609,LR611,m1601,m1603,m1605,m1607,m1608,m1609,m1611,m1612,MA601,MA602,MA603,MA604,MA605,MA606,MA607,MA608,MA609,MA610,MA611,MA612,ni1601,ni1602,ni1603,ni1604,ni1605,ni1606,ni1607,ni1608,ni1609,ni1610,ni1611,ni1612,OI601,OI603,OI605,OI607,OI609,OI611,p1601,p1602,p1603,p1604,p1605,p1606,p1607,p1608,p1609,p1610,p1611,p1612,pb1601,pb1602,pb1603,pb1604,pb1605,pb1606,pb1607,pb1608,pb1609,pb1610,pb1611,pb1612,PM601,PM603,PM605,PM607,PM609,PM611,pp1601,pp1602,pp1603,pp1604,pp1605,pp1606,pp1607,pp1608,pp1609,pp1610,pp1611,pp1612,rb1601,rb1602,rb1603,rb1604,rb1605,rb1606,rb1607,rb1608,rb1609,rb1610,rb1611,rb1612,RI601,RI603,RI605,RI607,RI609,RI611,RM601,RM603,RM605,RM607,RM608,RM609,RM611,RS607,RS608,RS609,RS611,ru1601,ru1603,ru1604,ru1605,ru1606,ru1607,ru1608,ru1609,ru1610,ru1611,SF601,SF602,SF603,SF604,SF605,SF606,SF607,SF608,SF609,SF610,SF611,SF612,SM601,SM602,SM603,SM604,SM605,SM606,SM607,SM608,SM609,SM610,SM611,SM612,sn1601,sn1602,sn1603,sn1604,sn1605,sn1606,sn1607,sn1608,sn1609,sn1610,sn1611,sn1612,SR601,SR603,SR605,SR607,SR609,SR611,SR701,SR703,SR705,T1603,T1606,T1609,TA601,TA602,TA603,TA604,TA605,TA606,TA607,TA608,TA609,TA610,TA611,TA612,TF1603,TF1606,TF1609,v1601,v1602,v1603,v1604,v1605,v1606,v1607,v1608,v1609,v1610,v1611,v1612,WH601,WH603,WH605,WH607,WH609,WH611,wr1601,wr1602,wr1603,wr1604,wr1605,wr1606,wr1607,wr1608,wr1609,wr1610,wr1611,wr1612,y1601,y1603,y1605,y1607,y1608,y1609,y1611,y1612,ZC601,ZC602,ZC603,ZC604,ZC605,ZC606,ZC607,ZC608,ZC609,ZC610,ZC611,ZC612,zn1601,zn1602,zn1603,zn1604,zn1605,zn1606,zn1607,zn1608,zn1609,zn1610,zn1611,zn1612"}')

    // ping/pong heartbeat
    //job = setInterval('s.send(\'{"action":"test ping"}\')', 1000);
  </script>

</body>

</html>
